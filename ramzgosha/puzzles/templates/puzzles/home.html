{% extends 'puzzles/base.html' %}

{% block content %}
    {% if request.user.is_authenticated %}
        <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 30px;">
            <a href="{% url 'my_puzzles' %}" style="
                background: transparent; border: 2px solid #4fc3f7; color: #4fc3f7;
                padding: 6px 15px; border-radius: 20px; text-decoration: none; font-weight: bold; font-size: 0.85rem;">
                ğŸ“ Ù…Ø¹Ù…Ø§Ù‡Ø§ÛŒ Ù…Ù†
            </a>

            <a href="{% url 'create_puzzle' %}" style="
                background: transparent; border: 2px solid #e94560; color: #e94560;
                padding: 6px 15px; border-radius: 20px; text-decoration: none; font-weight: bold; font-size: 0.85rem;">
                + Ù…Ø¹Ù…Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
            </a>

            <form action="{% url 'logout' %}" method="post" style="margin: 0;">
                {% csrf_token %}
                <button type="submit" style="
                    background: transparent; border: 2px solid #555; color: #aaa;
                    padding: 6px 15px; border-radius: 20px; cursor: pointer; font-weight: bold; font-size: 0.85rem; font-family: inherit;">
                    Ø®Ø±ÙˆØ¬
                </button>
            </form>
        </div>
    {% else %}
        <div style="text-align: center; margin-bottom: 30px;">
            <a href="{% url 'login' %}" style="
                background: transparent; border: 2px solid #e0b0ff; color: #e0b0ff;
                padding: 8px 20px; border-radius: 20px; text-decoration: none; font-weight: bold; font-size: 0.9rem;">
                ğŸ‘¤ ÙˆØ±ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ø·Ø±Ø§Ø­Ø§Ù†
            </a>
        </div>
    {% endif %}

    {% if todays_puzzle %}
        <div class="card">
            <h2>Ø³Ø±Ù†Ø® Ø§Ù…Ø±ÙˆØ²</h2>
            <p style="font-size: 1.2rem; margin: 30px 0;">
                {{ todays_puzzle.clue_text }} ({{ todays_puzzle.answer_length }})
            </p>
            
            <a href="{% url 'play' todays_puzzle.publish_date|date:'Y-m-d' %}" class="btn">
                Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
            </a>

            <div style="margin-top: 20px; font-size: 0.8rem; color: #555;">
                {{ todays_puzzle.publish_date|date:"j F Y" }} Â· Ø·Ø±Ø§Ø­: {{ todays_puzzle.author.username }}
            </div>
        </div>
    {% else %}
        <div class="card">
            <h3>Ù‡Ù†ÙˆØ² Ù…Ø¹Ù…Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² Ù…Ù†ØªØ´Ø± Ù†Ø´Ø¯Ù‡!</h3>
            <p>Ù„Ø·ÙØ§ Ø¨Ø¹Ø¯Ø§ Ø³Ø± Ø¨Ø²Ù†ÛŒØ¯.</p>
        </div>
    {% endif %}

    {% include 'puzzles/archive_list.html' %}
{% endblock %}